

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RBAC ABF Roles &mdash; Cobalt 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Cobalt
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Cobalt Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">cobalt</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cobalt</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>RBAC ABF Roles</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rbac_ABF_Roles.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>RBAC ABF Roles<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>This page lists the roles and groups that are set up for the ABF version
of Cobalt. See <cite>rbac_overview</cite> for details on the module itself.</p>
<p>The tree structure (both the RBAC tree and the Admin tree) are only to
provide an organised way to manage a potential large number of groups.
They do not affect the security in any way. The only thing that really matters
in terms of controlling access is the roles that are added to a group and the
user who are members of that group.</p>
<p>This page lists the roles required for different functions and then also
the groups (and their location in the tree) that have been set up to accomodate
this.</p>
<div class="section" id="rbac-defaults">
<h2>RBAC Defaults<a class="headerlink" href="#rbac-defaults" title="Permalink to this headline">¶</a></h2>
<p>Defaults apply when no matching rule can be found.</p>
<ul class="simple">
<li><p>forums.forum - Allow</p></li>
<li><p>forums.forumadmin - Block</p></li>
<li><p>payments.global - Block</p></li>
<li><p>payments.org - Block</p></li>
<li><p>org.org - Block</p></li>
</ul>
</div>
<div class="section" id="hierarchy">
<h2>Hierarchy<a class="headerlink" href="#hierarchy" title="Permalink to this headline">¶</a></h2>
<p>Roles can be one of two main formats:</p>
<ul class="simple">
<li><p>app.model.action e.g. forums.forum.view</p></li>
<li><p>app.model.model_id.action e.g. forums.forums.6.view</p></li>
</ul>
<p>The higher level role (without the number) will also apply to the lower level
when checking. So for example if a user needs forums.forum.5.create for an
action, then if they have forums.forum.create that will be used. However,
specific rules have precedence. e.g. if a user has forums.forums.create Block,
and forums.forums.5.create Allow, then they will be allowed to post in forum 5.</p>
<p>The forum numbers (and other model_ids) are the internal representation of the
model (primary key). If necessary they can be mapped to a name, but for RBAC
it is more efficient to use the number.</p>
</div>
<div class="section" id="rbac-all">
<h2>RBAC All<a class="headerlink" href="#rbac-all" title="Permalink to this headline">¶</a></h2>
<p>A role of “All” matches on any action. e.g. if a group has forums.forum.all
it will match against forums.forum.create or forums.forum.5.view (specifically for
forums, moderate is done a little differently and is excluded from all).</p>
</div>
<div class="section" id="rbac-everyone">
<h2>RBAC EVERYONE<a class="headerlink" href="#rbac-everyone" title="Permalink to this headline">¶</a></h2>
<p>The EVERYONE user matches against any user, so adding EVERYONE to a group is
the same as individually adding all users to the group.</p>
</div>
</div>
<div class="section" id="key-roles">
<h1>Key Roles<a class="headerlink" href="#key-roles" title="Permalink to this headline">¶</a></h1>
<div class="section" id="forums">
<h2>Forums<a class="headerlink" href="#forums" title="Permalink to this headline">¶</a></h2>
<p>The following roles are important:</p>
<ul class="simple">
<li><p><strong>forums.forumadmin</strong> [<em>Allow</em>] - allows the management of forums, e.g. create, modify and
delete.</p></li>
<li><p><strong>forums.forum.view</strong> [<em>Allow</em>] - can view posts in any forum</p></li>
<li><p><strong>forums.forum.create</strong> [<em>Allow</em>] - can create posts or respond to posts in any forum</p></li>
<li><p><strong>forums.forum.moderate</strong> [<em>Allow</em>] - can moderate in any forum. Moderators can
edit any post or comment (not delete them) and can block users from posting
in a specific forum.</p></li>
<li><p><strong>forums.forum.N.view</strong> [<em>Allow</em>] - can view posts in forum N.</p></li>
<li><p><strong>forums.forum.N.create</strong> [<em>Allow</em>] - can create posts or respond to posts in forum N.</p></li>
<li><p><strong>forums.forum.moderate</strong> [<em>Allow</em>] - can moderate in forum N. Moderators can
edit any post or comment (not delete them) and can block users from posting
in a specific forum.</p></li>
</ul>
</div>
<div class="section" id="payments">
<h2>Payments<a class="headerlink" href="#payments" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>payments.org.view</strong> [<em>Allow</em>] - can view statements for all organisations.</p></li>
<li><p><strong>payments.org.N.view</strong> [<em>Allow</em>] - can view statements for organisation N.</p></li>
<li><p><strong>payments.org.manage</strong> [<em>Allow</em>] - can manage payments for all organisations.</p></li>
<li><p><strong>payments.org.N.manage</strong> [<em>Allow</em>] - can manage payments for organisation N.</p></li>
<li><p><strong>payments.global.view</strong> [<em>Allow</em>] - can view payments for the ABF.</p></li>
<li><p><strong>payments.global.manage</strong> [<em>Allow</em>] - can manage payments for the ABF.</p></li>
</ul>
</div>
<div class="section" id="organisations">
<h2>Organisations<a class="headerlink" href="#organisations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>orgs.org.view</strong> [<em>Allow</em>] - can view details about all organisations.</p></li>
<li><p><strong>orgs.org.N.view</strong> [<em>Allow</em>] - can view details about organisation N.</p></li>
<li><p><strong>orgs.org.edit</strong> [<em>Allow</em>] - can edit details about all organisations.</p></li>
<li><p><strong>orgs.org.N.edit</strong> [<em>Allow</em>] - can edit details about organisation N.</p></li>
</ul>
</div>
</div>
<div class="section" id="groups-and-trees">
<h1>Groups and Trees<a class="headerlink" href="#groups-and-trees" title="Permalink to this headline">¶</a></h1>
<p>As mentioned above, the groups and trees (normal and admin) are just a way to index
things, the names are arbitrary.</p>
<p>Groups can (and should) contain multiple roles. This means that they cannot
easily match the dotted name structure of roles. The RBAC tree reflects functions
that users need to perform, such as “System Administrator”, “Club N Directors”,
“State N Financial Controllers”.</p>
<div class="section" id="groups">
<h2>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h2>
<p>This is the basic structure of the tree and groups for RBAC.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Group / Tree</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rbac.clubs.STATE.N</p></td>
<td><div class="line-block">
<div class="line"><em>Things relating to club N</em></div>
<div class="line">e.g. rbac.clubs.SA.N.directors</div>
<div class="line">rbac.clubs.NSW.N.finance</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>rbac.abf</p></td>
<td><div class="line-block">
<div class="line"><em>Things relating to the ABF</em></div>
<div class="line">e.g. rbac.abf.finance</div>
<div class="line">rbac.abf.forumadmins</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>rbac.general</p></td>
<td><div class="line-block">
<div class="line"><a href="#id2"><span class="problematic" id="id3">*</span></a>General this such as public forums</div>
<div class="line">e.g. rbac.abf.general.forums</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="admin">
<h1>Admin<a class="headerlink" href="#admin" title="Permalink to this headline">¶</a></h1>
<p>It is important to realise the difference between admin within a module and
admin for RBAC. For example, if you are in the group <em>rbac.abf.forumadmins</em>
this allows you to create and delete forums. However, it doesn’t give you any
rights to change the RBAC tree itself. You can’t add other users to this
group for example. If you could, then it would be chaos, once one person
got into a group they could let all of their friends in too.</p>
<p>Admin has a separate structure. There are two things required, what you can do,
and where you can do it. The WHAT is which roles you are an admin for. Putting
a user into an admin group for forums should not allow them to also administer
payments. The WHERE is the location the tree that you are an admin for.
Making a club owner an admin for their club in the tree and giving them
admin rights for roles relating to their club (payments for their club,
settings for their club, their club forum etc) should not allow them to do
the same thing for another club.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 24%" />
<col style="width: 25%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Group / Tree</p></th>
<th class="head"><p>Purpose</p></th>
<th class="head"><p>Typical Roles</p></th>
<th class="head"><p>Where in Tree</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>admin.clubs.STATE.N</p></td>
<td><p><em>Admin for club N</em></p></td>
<td><div class="line-block">
<div class="line">forums.forum.N</div>
<div class="line">org.org.N</div>
</div>
</td>
<td><div class="line-block">
<div class="line">rbac.clubs.STATE.N</div>
<div class="line">e.g. rbac.clubs.SA.324</div>
<div class="line">rbac.clubs.NSW.23</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>admin.abf.finance</p></td>
<td><p><em>Finance for ABF</em></p></td>
<td><div class="line-block">
<div class="line">payments.global.view</div>
<div class="line">payments.global.manage</div>
</div>
</td>
<td><p>rbac.abf</p></td>
</tr>
<tr class="row-even"><td><p>admin.abf.forums</p></td>
<td><p><em>Forums management</em></p></td>
<td><p>forums.forumadmin</p></td>
<td><p>rbac.abf</p></td>
</tr>
<tr class="row-odd"><td><p>admin.abf.clubs</p></td>
<td><p><em>Central club admin</em></p></td>
<td><div class="line-block">
<div class="line">payments.org</div>
<div class="line">org.org</div>
<div class="line">forums.forum</div>
</div>
</td>
<td><p>rbac.clubs</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="admin-for-admin">
<h1>Admin for Admin<a class="headerlink" href="#admin-for-admin" title="Permalink to this headline">¶</a></h1>
<p>Any admin can add another user to a group that they are an administrator for.
Creating new groups will for now be an IT function.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, ABF

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>