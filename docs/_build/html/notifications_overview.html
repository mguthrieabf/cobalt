

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Notifications Overview &mdash; Cobalt 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Cobalt
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Cobalt Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">cobalt</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cobalt</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Notifications Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/notifications_overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <a class="reference internal image-reference" href="_images/cobalt.jpg" id="notifications-overview"><img alt="Cobalt Chemical Symbol" id="notifications-overview" src="_images/cobalt.jpg" style="width: 300px;" /></a>
<div class="section" id="id1">
<h1>Notifications Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Notifications is the communication centre of Cobalt. It is how all other modules
communicate with members and is also a notice board for events (actions, not
bridge events) that members may want to subscribe to be notified about.</p>
<p>There are many events that a Cobalt user may wish to be notified about.
For example, they may want to hear when a new post is added to a particular
forum, or when someone replies to a comment that they have made in a forum.
They may wish to be notified when the results become available for an event
they have played in, or when a congress in their area is announced.</p>
<p>A user may have different preferences for how they are notified as well.
One user may want SMS, another email and yet another may only wish to find
out when they visit the website. Of course, some users may not want to be
notified at all and others will want a combination of methods depending upon
what it is they are being notified about.</p>
</div>
<div class="section" id="notification-types">
<h1>Notification Types<a class="headerlink" href="#notification-types" title="Permalink to this headline">¶</a></h1>
<p>There are five broad categories of notification:</p>
<dl class="simple">
<dt>System Broadcasts (<em>Not yet implemented</em>)</dt><dd><p>Users will receive these regardless of preference. These are rare.</p>
</dd>
<dt>Broadcasts (<em>Not yet implemented</em>)</dt><dd><p>These are typically emails from the National Body, Clubs, State
Bodies etc. Users may opt out of these through their settings.</p>
</dd>
<dt>Named Specific (<em>Not yet implemented</em>)</dt><dd><p>The calling module will provide a list of names. Users can
choose how they are notified or choose to opt out. For example, Results tells
Notifications that the results for an event are available and who played in the
event. Notifications passes this information on to the member (or not, if the
member opts out).</p>
</dd>
<dt>Happenings</dt><dd><p>These are things that members choose to listen to. For example,
a new Forum post.</p>
</dd>
<dt>Personal</dt><dd><p>These are messages intended for a single recipient.</p>
</dd>
</dl>
</div>
<div class="section" id="notification-methods">
<h1>Notification Methods<a class="headerlink" href="#notification-methods" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><strong>In App Notifications</strong> - these are always provided. The user will see this when
they log in to Cobalt.</p></li>
<li><p><strong>Email</strong> - HTML format emails.</p></li>
<li><p><strong>SMS</strong> - Short messages, often with links to pages within Cobalt.</p></li>
</ul>
</div>
<div class="section" id="user-experience">
<h1>User Experience<a class="headerlink" href="#user-experience" title="Permalink to this headline">¶</a></h1>
<p>Users always see notifications on the top right hand of the screen. They can
acknowledge a notification by clicking on them. Notifications should come with a
link that takes the user to the right relative URL for more information.</p>
<p>In addition to the In App Notification, users can also receive notifications
over email or SMS.</p>
</div>
<div class="section" id="creating-immediate-notifications">
<h1>Creating Immediate Notifications<a class="headerlink" href="#creating-immediate-notifications" title="Permalink to this headline">¶</a></h1>
<p>You can create a notification for a user directly by calling
<a class="reference internal" href="notifications.html#notifications.views.contact_member" title="notifications.views.contact_member"><code class="xref py py-func docutils literal notranslate"><span class="pre">notifications.views.contact_member()</span></code></a>. You need to provide the member,
message and type (SMS or Email) as a minimum.</p>
<p>This is the recommended way of communicating
with a member if you want standard notifications as this will also create
an internal notification message.</p>
<p>If you don’t want the internal notification then you can call the sending
functions directly.</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">notifications.cviews.send_cobalt_email()</span></code> - sends an email.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">notifications.cviews.send_cobalt_sms()</span></code> - sends an sms.</p></li>
</ul>
<p>It is recommended that you do this rather than sending messages directly
so we can have a single point to maintain.</p>
</div>
<div class="section" id="creating-user-listens">
<h1>Creating User Listens<a class="headerlink" href="#creating-user-listens" title="Permalink to this headline">¶</a></h1>
<p>Sometimes you don’t want to immediately notify a user but you do want to
set them up for later notifications. For example, if a user posts an
article in a Forum, they may want to be notified when someone comments on it.</p>
<p>In this case you should call <a class="reference internal" href="notifications.html#notifications.views.create_user_notification" title="notifications.views.create_user_notification"><code class="xref py py-func docutils literal notranslate"><span class="pre">notifications.views.create_user_notification()</span></code></a>.</p>
<p>This will set up a rule to listen for the events that you request. If you no
longer want this (for example, if the post is deleted), then you should call
<code class="xref py py-func docutils literal notranslate"><span class="pre">notifications.views.delete_user_notification()</span></code>.</p>
<div class="section" id="event-types">
<h2>Event Types<a class="headerlink" href="#event-types" title="Permalink to this headline">¶</a></h2>
<p>The applications control their own event types, but the format of the string
used to identify them should follow a standard:</p>
<p>&lt;application&gt;.&lt;function&gt;.&lt;action&gt;</p>
<p>If necessary more levels can be added.</p>
<p>For example:</p>
<ul class="simple">
<li><p>forums.post.comment.new - <em>a comment has been added to a post</em></p></li>
<li><p>forums.post.delete - <em>a post has been deleted</em></p></li>
</ul>
</div>
</div>
<div class="section" id="notification-of-events">
<h1>Notification of Events<a class="headerlink" href="#notification-of-events" title="Permalink to this headline">¶</a></h1>
<p>When something has happened in an application that a user <strong>could</strong> be
interested in, then notifications should be informed. It is better to
over communicate than to under communicate, but always expect to also have
to update the code within notifications as it isn’t magic.</p>
<p>To announce an event has occurred call
<a class="reference internal" href="notifications.html#notifications.views.notify_happening" title="notifications.views.notify_happening"><code class="xref py py-func docutils literal notranslate"><span class="pre">notifications.views.notify_happening()</span></code></a>.</p>
<p>This is the point at which if a member has registered to find out about
an event, then they will be notified.</p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, ABF

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>